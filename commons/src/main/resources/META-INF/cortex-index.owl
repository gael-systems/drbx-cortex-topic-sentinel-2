<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>

<!DOCTYPE rdf:RDF [
   <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#">
   <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#">
   <!ENTITY owl "http://www.w3.org/2002/07/owl#">
   <!ENTITY s2   "http://www.esa.int/s2#">
   <!ENTITY drb "http://www.gael.fr/drb#">
]>

<rdf:RDF xmlns:owl="&owl;"
         xmlns:rdf="&rdf;"
         xmlns:rdfs="&rdfs;"
         xmlns:drb="&drb;"
         xmlns:s2="&s2;"
         xml:base="&s2;">

<!--
* Data Hub Service (DHuS) - For Space data distribution.
* Copyright (C) 2013,2014,2015,2016 GAEL Systems
*
* This file is part of DHuS software sources.
*
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU Affero General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
* GNU Affero General Public License for more details.
*
* You should have received a copy of the GNU Affero General Public License
* along with this program. If not, see <http://www.gnu.org/licenses/>.
-->

   <owl:Ontology rdf:about="&s2;">
      <rdfs:label xml:lang="en">Sentinel-2 Commons Ontology</rdfs:label>
   </owl:Ontology>

   <!-- ========================================= -->
   <!-- Sentibel-2 Item                           -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- This class is created mostly to give a parent to items that can be
        placed either inside a User product, or a PDI (e.g. manifest file,
        rep-info folder...)
        As it follows-->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;item">
      <rdfs:label xml:lang="en">Sentinel-2 Item (user product or PDI)</rdfs:label>
      <rdfs:comment xml:lang="en">
         Sentinel-2 Item: either a User product, or a PDI, or any item
         following the pattern PDI_ID.*.
      </rdfs:comment>
     <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:nameMatch>(S2[AB]_...._(PRD|MSI|GIP).*|S2[AB]_MSIL...*|L.._T....._A[0-9]{6}.*|DS_...._[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9].*)</drb:nameMatch>
      </drb:signature>
   </owl:Class>
   
   <owl:Class rdf:about="&s2;itemZipped">
      <rdfs:label xml:lang="en">Sentinel-2 Zipped Item</rdfs:label>
     <rdfs:subClassOf rdf:resource="&s2;item"/>
     <rdfs:subClassOf rdf:resource="&drb;zip"/>
      <drb:signature rdf:parseType="Resource">
         <drb:nameMatch>S2[AB]_.*\.(?i)zip</drb:nameMatch>
      </drb:signature>
   </owl:Class>
  

   <!-- ==================================================================== -->
   <!-- User                                                                 -->
   <!-- ==================================================================== -->

   <!-- ========================================= -->
   <!-- User Product                              -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;userProduct">
      <rdfs:label xml:lang="en">Sentinel-2 User Product</rdfs:label>
      <rdfs:comment xml:lang="en">
         User Product is the product delivered to the End User corresponding to:
         * A user-defined geographical product subset along the spacecraft orbit;
         * A user-defined selection of product independent components specified
         as download options (e.g. image data, browse image, preview image,
         spectral bands, auxiliary data, ancillary data,
         brief/standard/expertise metadata etc..) according to different user
         authorizations.
         From the End User point of view, PDIs and PDI organization are aspects
         completely transparent. The end user selects from the catalogue a
         defined geographical area or subscribes a request and the final
         product is available on its hard disk.
         The selection from the catalogue follows two different ways:
         * interactively: the user select from graphical interface a
         user-defined geographical area in a given time range, the catalogue
         shows the datatakes intersecting in time and space the submitted
         query. Given a datatake the user can decide to download the whole
         datatake or a portion i.e. a sub-set contiguous of the granules
         contained in the datatake.
         * By subscription: the user select a user-defined geographical area
         and a frequency time, the catalogue systematically will provide to the
         user the whole datatake or a set of the granules every time that a
         data corresponding to the subscribed query will be available.
         Regardless of used approach, the system will receive from the
         catalogue the list of the PDI_ID of the granules corresponding to the
         user selection coinciding with the ID of the archived PDI. Through the
         use of this list the corresponding PDI (granule and Datastrip) are
         restored to assemble the final product.
         From the system (PDGS) point of view, User Product is composed by a
         set of granules. All granules intersecting/touching the region of
         interest of the user are provided into the final products The system,
         based on the download options, downloads in a specific repository for
         example a set of the bands, a set of the metadata according to user
         category (brief/standard/expertise) or all product components.
         Once we have collected the required product components, the User
         Product is pakaged in a configured repository in SAFE or DIMAP format
         according to a specified download-option.
         Taking into account the strategy used to archived the PDIs (see
         [CCTS-US]) the granules selected to assembly the User Product will be
         contiguous in terms of the sensing time, acquired with the same
         operation mode and in the same imaging orbit, corresponding to the
         same processing level. In other words, User Product refers always to a
         given Datatake (continuous MSI imaging segment). In the particular
         case of an instrument mode changes during an imaging orbit, distinct
         products will be made available, one per Datatake.
         User Product containing the entire Datatake is defined as
         Datatake-Product; it is a particular case of a User Product
         exhaustively embedding all granules and all product components (e.g.
         spectral bands, metadata, etc) along the Datatake.
         Therefore, a User Product may be composed by:
         * all granules sharing the same Datatake_ID (Datatake-Product)
         * all granules sharing the same Datatake_ID within a given selection.
         In terms of Datastrip, a User Product may however include several
         Datastrips corresponding to distinct and complementary acquisitions
         on-ground of a same Datatake acquired on-board.
         For the particular case of the Level-0 products for which bands are
         not co-registered, the selected granules will be those where the
         user-defined area intersects the granule envelope (i.e. the union of
         the footprints of all bands).
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;safe-product"/>
      <rdfs:subClassOf rdf:resource="&s2;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:nameMatch>S2[AB]_(...._PRD_MSI(L0P|L1A|L1B|L1C|L2A|TCI)_PDMC_[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]_R[0-9]{3}_V[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]_[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]|MSIL.._[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]_N...._R[0-9]{3}.*)\.SAFE</drb:nameMatch>
         </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- GRANULE Wrapper                           -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- WARN NAME CHANGED -->
   <owl:Class rdf:about="&s2;granuleWrapper">
      <rdfs:label xml:lang="en">User Product: GRANULE Wrapper</rdfs:label>
      <rdfs:comment xml:lang="en">
         GRANULE folder contains the list of folders each one corresponding to
         the granules composing the user product.
         Level-0 User product: folder containing all granules composing the
         product (Image Data). The Image data are a set of annotated instrument
         source packets (ISP) corresponding to the compressed imaging data
         grouped in .'granules'. In the case of an extract, the image data
         (granules) are provided to cover the selected extract.
         The image data inside each Level-0 granule, are provided as a set of
         13 binary files, one for each spectral band, including all
         corresponding annotated Image Source Packets (ISP) in the observation
         chronological sequence.
         Level-1A and Level-1B User product: folder containing all granules
         composing the product (Image Data). The Image data are provided by a
         set of raster files. The image data extent correspond to a set of
         .'granules.' and can covers up to 12 detectors * 13 bands of the orbit
         in full resolution. A sub-set of the 13 bands can be provided.
         Level-1C User product: this folder (the name is chosen for homogeneity
         with respect to the other user product) contains the tiles composing
         the product (Image Data).
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;userProduct</drb:parentIsSubClassTest>
         <drb:nameTest>GRANULE</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- DATASTRIP Wrapper                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;userProductDataStripFolder"> -->
   <!-- WARN NAME CHANGED -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;datastripWrapper">
      <rdfs:label xml:lang="en">User Product: DATASTRIP Wrapper</rdfs:label>
      <rdfs:comment xml:lang="en">
         DATASTRIP folder contains the list of folders each one corresponding
         to the Datastrips composing the user product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;userProduct</drb:parentIsSubClassTest>
         <drb:nameTest>DATASTRIP</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Auxiliary Data Folder                     -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- WARN NAME CHANGED -->
   <!-- TODO rdfs:comment a revoir car AUX_DATA est user-product et pdi L1C a la fois -->
   <owl:Class rdf:about="&s2;auxiliaryDataFolder">
      <rdfs:label xml:lang="en">Auxiliary Data Folder</rdfs:label>
      <rdfs:comment xml:lang="en">
         PDI Granule L1C case:
         Folder containing ECMWF data resampled in UTM projection (single files
         in GRIB V1 format).
         User Product case:
         - L0 sub-case: Folder containing, if requested by the user (download
         option), the GIPP files and IERS Bulletins used for the Level-0 User
         Product production. All Level-0 auxiliary data are referenced in the
         product metadata file.
         - L1A sub-case: Folder containing, if requested by the user (download
         option), the GIPP files and IERS Bulletins used for the Level-1A User
         Product production. All Level-1A auxiliary data are referenced in the
         product metadata file.
         - L1B sub-case: Folder containing, if requested by the user (download
         option), the GIPP files and IERS Bulletins used for the Level-1B User
         Product production. All Level-1B auxiliary data are referenced in the
         product metadata file.
         - L1C sub-case: Folder containing, if requested by the user (download
         option), the GIPP files and IERS Bulletins used for the Level-1C User
         Product production. All Level-1C auxiliary data are referenced in the
         product metadata file. In addition, the Level-1C User Product embeds
         always at GRANULE (TILE) level an elementary set of meteorological
         datasets resampled ECMWF in tile geometry.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:nameTest>AUX_DATA</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- HTML Folder                               -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;userProductHtmlFolder">
      <rdfs:label xml:lang="en">User Product: HTML Folder</rdfs:label>
      <rdfs:comment xml:lang="en">
         HTML Folder.
         This folder contains two files:
         1. UserProduct_index.html
         2. UserProduct_index.xsl
         The first file is a product presentation file allowing the End User to display easily the main conte
         nt of the product.
         The second one represents the stylesheet used to generate the first one allowing the End User to dis
         play a selected sub-set of the product metadata.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;userProduct</drb:parentIsSubClassTest>
         <drb:nameTest>HTML</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- User Product HTML File                    -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;userProductHtmlFile">
      <rdfs:label xml:lang="en">User Product: HTML File</rdfs:label>
      <rdfs:comment xml:lang="en">
         This file is a product presentation file allowing the End User to
         display easily the main content of the product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;HTML</drb:parentClassTest>
         <drb:nameTest>UserProduct_index.html</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- User Product XSL File                     -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;userProductXslFile">
      <rdfs:label xml:lang="en">User Product: XSL File</rdfs:label>
      <rdfs:comment xml:lang="en">
         This file represents the stylesheet used to generate the first one
         allowing the End User to display a selected sub-set of the product
         metadata.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;HTML</drb:parentClassTest>
         <drb:nameTest>UserProduct_index.xsl</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- INSPIRE File                              -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;userProductInspireFile">
      <rdfs:label xml:lang="en">User Product: INSPIRE File</rdfs:label>
      <rdfs:comment xml:lang="en">
         XML INSPIRE metadata file.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;xml"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;userProduct</drb:parentIsSubClassTest>
         <drb:nameMatch>INSPIRE\..*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Product Metadata File                     -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_metadata"> -->
   <!-- Compliant with COMPACT -->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;userProductMetadataFile">
      <rdfs:label xml:lang="en">User Product: Main Metadata File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Mandatory XML main metadata file (DIMAP) containing the requested
         level of information and referring all the product elements.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;xml"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;userProduct</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MTD_(SAF|DMP)(L0P|L1A|L1B|L1C|L2A|TCI)_PDMC_[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]_R[0-9]{3}_V[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]_[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]|MTD_MSIL..)\.xml</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- SAFE Manifest File                        -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- WARN NAME CHANGED -->
   <owl:Class rdf:about="&s2;sentinel2SafeManifestFile">
      <rdfs:label xml:lang="en">Sentinel-2 SAFE Manifest File</rdfs:label>
      <rdfs:comment xml:lang="en">
         XML file with fixed name manifest.safe.
         User product: The Sentinel-2 SAFE metadata file is optional. It is
         included in the product only if the user requests a SAFE product as
         output format (according to a specific download option).
         PDI: The Sentinel-2 SAFE metadata file is available inside a
         Granule/Tile or Datastrip PDI, but is removed from the PDI when the
         PDI is included in a User product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;safe-manifest"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;item</drb:parentIsSubClassTest>
         <drb:nameTest>manifest.safe</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Representation Information Folder         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;userProductRepInfoFolder"> -->
   <!-- Compliant with COMPACT -->
   <!-- WARN NAME CHANGED -->
   <owl:Class rdf:about="&s2;representationInformationFolder">
      <rdfs:label xml:lang="en">Representation Information Folder</rdfs:label>
      <rdfs:comment xml:lang="en">
         Folder containing XSD schema(s).
         User product: This folder is optional. It will be included in the
         final product if the user select the SAFE format as output format.
         PDI: This folder is available inside a Granule/Tile or Datastrip PDI,
         but is removed from the PDI when the PDI is includedin a User product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;item</drb:parentIsSubClassTest>
         <drb:nameTest>rep_info</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ==================================================================== -->
   <!-- PDI                                                                  -->
   <!-- ==================================================================== -->

   <!-- ========================================= -->
   <!-- Granule                                   -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- WARN NAME CHANGED -->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;granule">
      <rdfs:label xml:lang="en">Granule</rdfs:label>
      <rdfs:comment xml:lang="en">
         A granule.
         MSI products are provided as a compilation along a single orbit of
         elementary Granules of fixed size. In this respect, the product
         granularity corresponds to the minimum indivisible partition of one
         Sentinel-2 User Product.
         For Level-0, 1A and 1B products, these Granules are sub-images in MSI
         sensor reference frame of a given number of lines along-track and
         detector separated.
         Granules are defined further for each product level type.
         All Granules intersecting/touching the Region of Interest of the user
         are provided into the final User Product.
         Granule/Tile PDI is organized as following:
         1. Granule_Metadata_File: XML metadata file describing all the elements
            contained inthe Granule PDI;
         2. IMG_DATA: folder containing the image data foreseen for each kind of
            Granule / Tile PDI;
         3. QI_DATA: folder containing the XML reports including the quality
            control checks performed by OLQC processor (for each L0/L1A/L1B/L1C
            PDI) and the GML quality masks (for each L1A/L1B/L1C PDI). In
            addition, in case of L1C Tile, this folder contains the PVI file.
         4. AUX_DATA: folder containing ECMWF dataset resampled in UTM projection.
            Note that this folder is provided only inside a Level-1C Tile PDI.
         5. Inventory_Metadata.xml: inventory metadata file.
         6. manifest.safe: XML SAFE Manifest file.
         7. rep_info: folder containing the available XSD schemas used
            to validate the Granule PDI components.
         Note that the Inventory_Metadata.xml, manifest.safe and rep_info are
         available inside a Granule/Tile PDI but they are removed when the PDI
         is included in the User Product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;item"/>
      <drb:signature rdf:parseType="Resource">
         <!--
         <drb:parentClassTest>&s2;granuleWrapper</drb:parentClassTest>
         -->
         <drb:nameMatch>(S2[AB]_...._MSI_L(0__GR|1A_GR|1B_GR|1C_TL|2A_TL).*_N[0-9]{2}\.[0-9]{2}|L.._T....._A[0-9]{6}_[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9])</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Granule Metadata File                     -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;granuleMetadataFile">
      <rdfs:label xml:lang="en">Granule Metadata File</rdfs:label>
      <rdfs:comment xml:lang="en">
         The main XML metadata file provided inside each granule.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;xml"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;granule</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._MTD_L(0__GR|1A_GR|1B_GR|1C_TL|2A_TL)_.*|MTD_TL\.xml)</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Datastrip                                 -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- WARN NAME CHANGED -->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;datastrip">
      <rdfs:label xml:lang="en">Datastrip</rdfs:label>
      <rdfs:comment xml:lang="en">
         Within a given Datatake, a portion of sensed image downlinked during
         a pass to a given station is termed Datastrip. If a particular orbit
         is acquired by more than one station, a Datatake is composed of one
         or more Datastrips.
         A Datastrip refers thus to all data corresponding to:
         1. a single Datatake;
         2. downlinked over a given ground station.
         In terms of Datatake and Datastrips a Sentinel-2 User Product may
         therefore include one or more Datastrips belonging to the same
         Datatake.
         The minimum length of a Datastrip is 92 km corresponding to four
         on-board scenes.
         The maximum length of a Datastrip is theoretically the maximum length
         of a Datatake i.e. 15000 km (continuous observation from Northern
         Russia to Southern Africa).
         The Datastrip identifier is a character string that identifies in a
         unique way a Sentinel-2 acquired Datastrip relatively to a given
         Datatake.
         Datastrip PDI is organized as following:
         1. Datastrip_Metadata_File: XML Metadata file describing all the
            elements contained in the Datastrip PDI;
         2. QI_DATA: folder containing the XML reports including the quality
            control checks performed by OLQC processor. In addition, in case of
            L0 Datastrip this folder contains the preliminary QuickLook files
            (five image files in JPEG2000 format),
         3. ANC_DATA: folder containing SAD raw data as received from the DFEP.
            Note that this folder is provided only inside a Level-0 Datastrip
            PDI;
         4. Inventory_Metadata.xml: inventory metadata file;
         5. manifest.safe: XML SAFE Manifest file;
         6. rep_info: folder containing the available XSD schemas that describe
            each Datastrip PDI components.
         Note that the ANC_DATA, Inventory_Metadata.xml, manifest.safe and
         rep_info are available inside a Datastrip PDI but they are removed
         when the PDI is included in the User Product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;item"/>
      <drb:signature rdf:parseType="Resource">
         <!--
         <drb:parentClassTest>&s2;datastripWrapper</drb:parentClassTest>
         -->
         <drb:nameMatch>(S2[AB]_...._MSI_L(0__|1A_|1B_|1C_|2A_)DS.*_N[0-9]{2}\.[0-9]{2}|DS_...._[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9]_S[0-9]{4}[0-1][0-9][0-3][0-9]T[0-2][0-9][0-6][0-9][0-6][0-9])</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Datastrip Metadata File                   -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <!-- ABSTRACT CLASS -->
   <owl:Class rdf:about="&s2;datastripMetadataFile">
      <rdfs:label xml:lang="en">Datastrip Metadata File</rdfs:label>
      <rdfs:comment xml:lang="en">
         XML Main Metadata file (DIMAP mandatory file) containing the requested
         level of information and referring all the product elements describing
         the datastrip.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;xml"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;datastrip</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._MTD_L(0_|1A|1B|1C|2A)_DS_.*|MTD_DS\.xml)</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Image Data Folder                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_image_folder"> -->
   <!-- Compliant with COMPACT NO MODIFICATION REQUIRED -->
   <owl:Class rdf:about="&s2;imageFolder">
      <rdfs:label xml:lang="en">Image Folder</rdfs:label>
      <rdfs:comment xml:lang="en">
         Folder containing the image data foreseen for each kind of Granule /
         Tile.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;granule</drb:parentClassTest>
         <drb:nameTest>IMG_DATA</drb:nameTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control Folder                    -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_quality_folder"> -->
   <!-- Compliant with COMPACT NO MODIFICATION REQUIRED -->
   <owl:Class rdf:about="&s2;qualityControlFolder">
      <rdfs:label xml:lang="en">Quality Control Folder</rdfs:label>
      <rdfs:comment xml:lang="en">
         Folder containing the XML reports including the quality control checks
         performed by OLQC processor (for each L0/L1A/L1B/L1C PDI) and the GML
         quality masks (for each L1A/L1B/L1C PDI). In addition, in case of L1C
         Tile, this folder contains the PVI file.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:nameTest>QI_DATA</drb:nameTest>
         <drb:parenIsSubClassTest>&s2;item</drb:parenIsSubClassTest>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control File                      -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_quality_control_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;qualityControlFile">
      <rdfs:label xml:lang="en">Quality Control File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Quality control report file contains detected errors in this product.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;item"/>
      <rdfs:subClassOf rdf:resource="&drb;xml"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;qualityControlFolder</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._.*_(?i)report|SENSOR_QUALITY|GEOMETRIC_QUALITY|GENERAL_QUALITY|RADIOMETRIC_QUALITY|FORMAT_CORRECTNESS)\.xml</drb:nameMatch>
      </drb:signature>
      <drb:schemaLocation>
          xsd/int/esa/sentinel-2/OLQC_Report.xsd
      </drb:schemaLocation>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control File                      -->
   <!-- General Quality                           -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;qualityControlFileGeneralQuality">
      <rdfs:label xml:lang="en">General Quality Control File</rdfs:label>
      <rdfs:comment xml:lang="en">
         General Quality Control File.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;qualityControlFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;qualityControlFolder</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._.*_GENERAL_QUALITY_(?i)report|GENERAL_QUALITY)\.xml</drb:nameMatch>
      </drb:signature>
      <drb:schemaLocation>
          xsd/int/esa/sentinel-2/OLQC_Report.xsd
      </drb:schemaLocation>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control File                      -->
   <!-- Geometric Quality                         -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;qualityControlFileGeometricQuality">
      <rdfs:label xml:lang="en">Geometric Quality Control File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Geometric Quality Control File.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;qualityControlFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;qualityControlFolder</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._.*_GEOMETRIC_QUALITY_(?i)report|GEOMETRIC_QUALITY)\.xml</drb:nameMatch>
      </drb:signature>
      <drb:schemaLocation>
          xsd/int/esa/sentinel-2/OLQC_Report.xsd
      </drb:schemaLocation>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control File                      -->
   <!-- Radiometric Quality                       -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;qualityControlFileRadiometricQuality">
      <rdfs:label xml:lang="en">Radiometric Quality Control File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Radiometric Quality Control File.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;qualityControlFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;qualityControlFolder</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._.*_RADIOMETRIC_QUALITY_(?i)report|RADIOMETRIC_QUALITY)\.xml</drb:nameMatch>
      </drb:signature>
      <drb:schemaLocation>
          xsd/int/esa/sentinel-2/OLQC_Report.xsd
      </drb:schemaLocation>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control File                      -->
   <!-- Sensor Quality                            -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;qualityControlFileSensorQuality">
      <rdfs:label xml:lang="en">Sensor Quality Control File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Sensor Quality Control File.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;qualityControlFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;qualityControlFolder</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._.*_SENSOR_QUALITY_(?i)report|SENSOR_QUALITY)\.xml</drb:nameMatch>
      </drb:signature>
      <drb:schemaLocation>
          xsd/int/esa/sentinel-2/OLQC_Report.xsd
      </drb:schemaLocation>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Quality Control File                      -->
   <!-- Format Correctness                        -->
   <!-- ========================================= -->

   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;qualityControlFileFormatCorrectnessQuality">
      <rdfs:label xml:lang="en">Format Correctness Quality Control File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Format Correctness Quality Control File.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;qualityControlFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentClassTest>&s2;qualityControlFolder</drb:parentClassTest>
         <drb:nameMatch>(S2[AB]_...._.*_FORMAT_CORRECTNESS_(?i)report|FORMAT_CORRECTNESS)\.xml</drb:nameMatch>
      </drb:signature>
      <drb:schemaLocation>
          xsd/int/esa/sentinel-2/OLQC_Report.xsd
      </drb:schemaLocation>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File                                 -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_mask_file"> -->
   <!-- Compliant with COMPACT -->
    <owl:Class rdf:about="&s2;maskFile">
      <rdfs:label xml:lang="en">Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         Mask file.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&drb;item"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_.*|MSK_......_B..)\.gml</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: CLOLOW                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_clolow_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;clolowMaskFile">
      <rdfs:label xml:lang="en">Coarse Cloud Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         These vector files (derived from cloud detection using the preliminary
         quicklook images), contain a list of polygons in sensor mask  geometry
         (Level-1A reference frame) indicating the presence of clouds on the
         images.
         Present in Level 1A and 1B products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_CLOLOW|MSK_CLOLOW_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: CLOUDS                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_clouds_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;cloudsMaskFile">
      <rdfs:label xml:lang="en">Finer Cloud Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         A finer cloud mask is computed on final Level-1C images. It is
         provided in the final reference frame (ground geometry).
         Present in Level 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_CLOUDS|MSK_CLOUDS_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: TECQUA                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_clouds_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;tecquaMaskFile">
      <rdfs:label xml:lang="en">Technical Quality Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         These vector files contain a list of polygons in Level-1A reference
         frame indicating degraded quality areas in the image.
         Present in Level 1A, 1B and 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_TECQUA|MSK_TECQUA_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: LANWAT                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_lanwat_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;lanwatMaskFile">
      <rdfs:label xml:lang="en">Land/Water Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         A land/water mask is computed on final Level-1C images. It is provided
         in the final reference frame (ground geometry).
         Present in Level 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_LANWAT|MSK_LANWAT_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: DETFOO                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_detfoo_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;detfooMaskFile">
      <rdfs:label xml:lang="en">Detector Footprint Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         A mask providing the ground footprint of each detector within a tile.
         Present in Level 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_DETFOO|MSK_DETFOO_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: DEFECT                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_defect_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;defectMaskFile">
      <rdfs:label xml:lang="en">Defective Pixels Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         A defective pixels' mask, containing the position of defective pixels.
         Present in Level 1A, 1B and 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_DEFECT|MSK_DEFECT_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: SATURA                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_satura_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;saturaMaskFile">
      <rdfs:label xml:lang="en">Saturated pixels Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         A defective pixels' mask, containing the position of saturated pixels.
         Present in Level 1A, 1B and 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_SATURA|MSK_SATURA_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: NODATA                         -->
   <!-- ========================================= -->

   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_nodata_mask_file"> -->
   <!-- Compliant with COMPACT -->
   <owl:Class rdf:about="&s2;nodataMaskFile">
      <rdfs:label xml:lang="en">Nodata Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         A defective pixels' mask, containing the position of pixels with no
         data.
         Present in Level 1A, 1B and 1C products.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>(S2[AB]_...._MSK_NODATA|MSK_NODATA_B..).*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

   <!-- ========================================= -->
   <!-- Mask File: DEMQUA                         -->
   <!-- ========================================= -->

   <!-- TODO TBD Does this file-type exists??? Not in the last-of spec.... -->
   <!-- WARN ID changed <owl:Class rdf:about="&s2;pdi_demqua_mask_file"> -->
   <owl:Class rdf:about="&s2;demquaMaskFile">
      <rdfs:label xml:lang="en">DEM Quality Mask File</rdfs:label>
      <rdfs:comment xml:lang="en">
         DEM quality mask transformed in the final reference frame.
      </rdfs:comment>
      <rdfs:subClassOf rdf:resource="&s2;maskFile"/>
      <drb:signature rdf:parseType="Resource">
         <drb:parentIsSubClassTest>&s2;qualityControlFolder</drb:parentIsSubClassTest>
         <drb:nameMatch>S2[AB]_...._MSK_DEMQUA.*</drb:nameMatch>
      </drb:signature>
   </owl:Class>

</rdf:RDF>
